<ng-loading ng-if="loading"></ng-loading>

<div class="container listing-details" ng-if="!loading">
	<div class="row">

		<div class="col-md-6">
			<h3 class="collapses" data-toggle="collapse" data-target="#details">
				<span class="glyphicon"></span>
				Neighborhood
			</h3>
			<div class="collapse in" id="details">
				<p class="text-muted">
					{{ details.description }}
				</p>

				<div class="row">
					<dl class="col-md-6">
						<dt>Avg estimated value</dt>
						<dd>{{ details.value | currency }}</dd>
					</dl>
					<dl class="col-md-6">
						<dt>Change over last month</dt>
						<dd class="{{ details.change_over_last_month >= 0 ? 'text-success' : 'text-danger' }}">
							<span class="glyphicon glyphicon-arrow-{{ details.change_over_last_month >= 0 ? 'up' : 'down' }}"></span>
							{{ details.change_over_last_month }}%
						</dd>
					</dl>
				</div>

			</div>
		</div>

		<div class="col-md-6">
			<ng-loading ng-if="newListingsLoading"></ng-loading>

			<div ng-if="!newListingsLoading">

				<h3 class="collapses" data-toggle="collapse" data-target="#newListings">
					<span class="glyphicon"></span>
					NEW LISTINGS in my area <span class="badge">{{ newListings.length }}</span>
				</h3>
				<div class="collapse in" id="newListings">
					<div ng-repeat="result in newListings track by $index">
						<a class="new_listing" href="/#/listing/{{ $index }}">
							<span class="glyphicon glyphicon-arrow-right pull-right"></span>
							<span class="sprite sprite-status-{{ result.StatusId }}"></span>
							{{ result.ListingAddress }}
						</a>
						<div ng-if="!$last" class="sprite sprite-dash-horizontal"></div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="row well well-lg">
		You can never truly know a property until you see it in person.<br/><br/>
		<a ng-nyi href="#nyi" class="btn btn-primary">Contact a Realtor Today</a>
	</div>

</div>
